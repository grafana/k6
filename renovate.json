{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"extends": ["config:best-practices"],
	"schedule": ["weekly"],
	"prConcurrentLimit": 50,
	"packageRules": [
		{
			"description": "GitHub Actions",
			"managers": ["github-actions"]
		},
		{
			"description": "Update Go versions only when a patch version exists (z > 0 in v1.x.z)",
			"managers": ["gomod"],
			"matchPackageNames": ["go"],
			"allowedVersions": "/^(?:v)?\\d+\\.\\d+\\.[1-9]\\d*$/",
			"postUpdateOptions": ["gomodTidy", "gomodUpdateImportPaths"]
		},
		{
			"groupName": "golangx",
			"description": "group golang.org/x packages",
			"managers": ["gomod"],
			"matchPackagePatterns": ["^golang\\.org/x/"]
		},
		{
			"groupName": "googles",
			"description": "Group google.golang.org packages",
			"managers": ["gomod"],
			"matchPackagePatterns": ["^google\\.golang\\.org/"]
		},
		{
			"groupName": "otel",
			"description": "Group OpenTelemetry packages",
			"managers": ["gomod"],
			"matchPackagePatterns": ["^go\\.opentelemetry\\.io/"]
		},
		{
			"description": "xk6 experimental modules",
			"managers": ["gomod"],
			"matchPackagePatterns": ["^github\\.com/grafana/xk6-"]
		},
		{
			"description": "Allowlist for specific Go dependencies",
			"managers": ["gomod"],
			"matchPackageNames": [
				"github.com/PuerkitoBio/goquery",
				"github.com/andybalholm/brotli",
				"github.com/evanw/esbuild",
				"github.com/gorilla/websocket",
				"github.com/grafana/sobek",
				"github.com/jhump/protoreflect",
				"github.com/klauspost/compress",
				"github.com/tidwall/gjson",
				"github.com/chromedp/cdproto",
				"github.com/mailru/easyjson",
				"github.com/mattn/go-colorable",
				"github.com/mstoykov/k6-taskqueue-lib",
				"github.com/stretchr/testify"
			]
		},
		{
			"description": "Dockerfiles root",
			"managers": ["docker"],
			"excludePaths": ["packaging/**"],
			"schedule": ["quarterly"]
		},
		{
			"description": "Dockerfiles packaging",
			"managers": ["docker"],
			"matchPaths": ["packaging/**"]
		}
	]
}
