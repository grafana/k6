k6 v0.40.0 is here! :tada: 
#TODO 
[Roadmap and future plans section](#roadmap-and-future-plans).

## New Features!

### experimental extensions
https://github.com/grafana/k6/pull/2630
https://github.com/grafana/k6/pull/2656


### https://github.com/grafana/k6/pull/2571

### First class support for JavaScript Classes [#]()
https://github.com/grafana/k6/issues/1763
https://github.com/grafana/k6/pull/2618
https://github.com/grafana/k6/pull/2610
Other goja updates 

https://github.com/grafana/k6/pull/2645
https://github.com/grafana/k6/pull/2600
https://github.com/dop251/goja/pull/405

### New Test runtime for module extension developers

https://github.com/grafana/k6/issues/2598
https://github.com/grafana/k6/pull/2602
https://github.com/grafana/k6/pull/2621


### https://github.com/grafana/k6/pull/2616


## Breaking changes

- [#2632](https://github.com/grafana/k6/pull/2632) As part of refactoring to set tags provided to `metric.add` in the order they are provided, it was found out that you can provide tags as multiple objects/maps. This has never been the intend use and has never been documented. As such and as that makes no sense given every other API we have decided to remove this ability.
- [#2582](https://github.com/grafana/k6/pull/2582) If `RegisterCallback` result is called twice this will now lead to a panic, instead of the second call silently breaking the event loop. This has never been the expected behavior and calling it twice is always a bug in the code using it.
- As part of [#2596](https://github.com/grafana/k6/pull/2596) the `tainted` property of the Metric type is no longer outputted by the JSON output. That property was (likely) always going to have the value `false` as it was outputted at the beginning of the test.

## Enhancements and UX improvements

## Bug fixes

- [#2585](https://github.com/grafana/k6/pull/2585) `http.batch()` now displays an error if not exactly 1 argument is given to it([#1289](https://github.com/grafana/k6/issues/1289)). Thanks, @vanshaj!
- [#2596](https://github.com/grafana/k6/pull/2596) Fix a potential data race in the JSON output. Includes a breaking change where `tainted` property is no longer outputted. That property was (likely) always going to have the value `false` as it was outputted at the beginning of the test.
- [#2604](https://github.com/grafana/k6/pull/2604) Fix SSL keylogger not working with absolute paths.
- [#2637](https://github.com/grafana/k6/pull/2637) Fix setting the options `rps` to `0` or below leading to exceptions. Now setting it to 0 or below disables the limit. Thanks, @tbourrely. [#2613](https://github.com/grafana/k6/issues/2613)
- [#2278](https://github.com/grafana/k6/issues/2278) Reading directly `options.tags` was not possible. This was fixed by accident by [#2631](https://github.com/grafana/k6/pull/2631). It is still recommended that `k6/execution` is used instead to access the [final options of the test](https://k6.io/docs/javascript-api/k6-execution/#get-test-options).

## Maintenance and internal improvements

- [#2590](https://github.com/grafana/k6/pull/2590) Update direct dependencies without any interesting changes apart goja.
- [#2591](https://github.com/grafana/k6/pull/2591) Changes to the CI process to always build rpm/deb and windows packages and use nfpm to do it. 
- [#2593](https://github.com/grafana/k6/pull/2593) Internal cleanup after finally removing `common.Bind`.
- [#2597](https://github.com/grafana/k6/pull/2597) Fix go benchmarks we have broken over time.
- [#2599](https://github.com/grafana/k6/pull/2599) Reformat `//nolint` comments as part of getting ready for go 1.19.
- A bunch of fixes for tests [#2589](https://github.com/grafana/k6/pull/2589), [#2620](https://github.com/grafana/k6/pull/2620), [#2625](https://github.com/grafana/k6/pull/2625), [#2643](https://github.com/grafana/k6/pull/2543), [#2647](https://github.com/grafana/k6/pull/2647), [#2648](https://github.com/grafana/k6/pull/2648),
- [#2607](https://github.com/grafana/k6/pull/2607) Fix build badge in the README. Thanks @AetherUnbound!
- [#2614](https://github.com/grafana/k6/pull/2614) Fix advice for rpm install on Amazone Linux.
- [#2615](https://github.com/grafana/k6/pull/2615) Improve documentation of RegisterCallback due to feedback on how hard it was to understand how to use it properly.
- [#2627](https://github.com/grafana/k6/pull/2627) Create distinct test state objects for the pre-init and run phases.
- [#2635](https://github.com/grafana/k6/pull/2635) Drop License header in each file.
- [#2636](https://github.com/grafana/k6/pull/2636) Add SECURITY.md with instructions how to report security issues responsibly.
- [#2641](https://github.com/grafana/k6/pull/2641) Fix spelling of `lose`. Thanks @spazm!
- Update to golangci-lint v1.47.2 and enable a bunch more linters. [#2609](https://github.com/grafana/k6/pull/2609), [#2611](https://github.com/grafana/k6/pull/2611). Also, drop obsolete configurations [#2619](https://github.com/grafana/k6/pull/2619).

# Roadmap and future plans

## Native support for ECMAScript modules

UPDATE THIS

## Refactoring metrics
https://github.com/grafana/k6/pull/2629
https://github.com/grafana/k6/pull/2631
https://github.com/grafana/k6/pull/2634
https://github.com/grafana/k6/pull/2655

Update this whole section

### Prometheus remote-write output

### Tracing support