k6 1.5.0 is here ðŸŽ‰! This release includes:

- (_optional_) `<highlight of breaking changes>`
- `<Summary of new features>` (_one or multiple bullets_)

## Breaking changes

- `#pr`, `<small_break_1>`
- `#pr`, `<small_break_2>`

### (_optional h3_) `<big_breaking_change>` `#pr`

## New features

_optional intro here_

### `page.waitForEvent` [#5478](https://github.com/grafana/k6/pull/5478)

The browser module now supports [`page.waitForEvent()`](https://grafana.com/docs/k6/latest/javascript-api/k6-browser/page/waitforevent/), which allows you to wait for page events such as `console`, `request`, or `response` during browser automation.

This method is particularly valuable for testing scenarios where you need to synchronize test execution with specific page events before proceeding with test actions. Most of the time, tests wait for a specific event before continuing, which is vital for test reliability and avoiding flaky tests.

The method supports waiting for different event types with optional predicate filtering:

```javascript
import { browser } from 'k6/browser';

export default async function () {
  const page = await browser.newPage();

  // Wait for a console message containing specific text
  const msgPromise = page.waitForEvent('console', msg => msg.text().includes('hello'));
  await page.evaluate(() => console.log('hello world'));
  const msg = await msgPromise;
  console.log(msg.text()); // 'hello world'

  // Wait for a response from a specific URL with timeout
  const resPromise = page.waitForEvent('response', {
    predicate: res => res.url().includes('/api/data'),
    timeout: 5000,
  });
  await page.click('button#fetch-data');
  const res = await resPromise;

  await page.close();
}
```

This complements the existing [`page.waitForRequest()`](https://grafana.com/docs/k6/latest/javascript-api/k6-browser/page/waitforrequest/) and [`page.waitForResponse()`](https://grafana.com/docs/k6/latest/javascript-api/k6-browser/page/waitforresponse/) methods by providing a generic event-based waiting mechanism, giving you more flexibility when handling different types of page events.

### `locator.pressSequentially` [#5457](https://github.com/grafana/k6/pull/5457)

The browser module now supports [`locator.pressSequentially()`](https://grafana.com/docs/k6/latest/javascript-api/k6-browser/locator/presssequentially/), which types text character by character, simulating real keyboard input. This method is useful for testing features that require gradual typing to trigger specific behaviors, such as autocomplete suggestions, input validation per character, or character counters. Unlike [`locator.fill()`](https://grafana.com/docs/k6/latest/javascript-api/k6-browser/locator/fill/), which fills text instantly, `pressSequentially()` fires keyboard events (`keydown`, `keypress`/`input`, and `keyup`) for each character. Thank you, @rajan2345, for the contribution ðŸŽ‰

The method supports a configurable delay between keystrokes:

```javascript
import { browser } from 'k6/browser';

export const options = {
  scenarios: {
    ui: {
      executor: 'shared-iterations',
      options: {
        browser: {
          type: 'chromium',
        },
      },
    },
  },
};

export default async function () {
  const page = await browser.newPage();

  try {
    await page.goto('https://test.k6.io/browser.php');

    // Type text character by character
    const searchInput = page.locator('#text1');
    await searchInput.pressSequentially('Hello World');

    // Type with delay to simulate realistic typing speed
    await searchInput.clear();
    await searchInput.pressSequentially('test query', { delay: 100 });
  } finally {
    await page.close();
  }
}
```

This complements existing text input methods like [`locator.fill()`](https://grafana.com/docs/k6/latest/javascript-api/k6-browser/locator/fill/) for simple form filling and [`locator.type()`](https://grafana.com/docs/k6/latest/javascript-api/k6-browser/locator/type/) for gradual typing.

## UX improvements and enhancements

_Format as `<number> <present_verb> <object>. <credit>`_:

- _`#999` Gives terminal output prettier printing. Thanks to `@person` for the help!_
- `#pr` `<description>`
- `#pr` `<description>`

## Bug fixes

_Format as `<number> <present_verb> <object>. <credit>`_:

- _`#111` Fixes race condition in runtime_

## Maintenance and internal improvements

_Format as `<number> <present_verb> <object>. <credit>`_:

- _`#2770` Refactors parts of the JS module._

## _Optional_ Roadmap

_Discussion of future plans_
